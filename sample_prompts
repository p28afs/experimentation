custom_prompt = (
    "You are a global expert in regulatory transaction reporting. Your task is to extract detailed information "
    "from any public regulatory document (PDF, Word, CSV, etc.) and output a structured graph with clearly labeled nodes and edges. \n\n"
    
    "Extract the following nodes with their attributes:\n"
    "  1. Regulatory Authority:\n"
    "       - The issuing body (e.g., CFTC, ESMA, IOSCO, CPMI, etc.).\n\n"
    
    "  2. Regulatory Document:\n"
    "       - Title, unique ID, version, and publication date.\n\n"
    
    "  3. Regulatory Mandate/Directive:\n"
    "       - The specific rules, guidelines, or obligations (e.g., reporting requirements, life cycle event guidance).\n\n"
    
    "  4. Reporting Entity (Financial Institution):\n"
    "       - The firms or institutions required to comply with the mandate.\n\n"
    
    "  5. Derivative Product (if applicable):\n"
    "       - The financial instruments or derivatives referenced in the document.\n\n"
    
    "  6. Reporting Obligation:\n"
    "       - The requirement to report transactions or data, including timing and process instructions.\n\n"
    
    "  7. Field Specification & Data Elements:\n"
    "       - Each individual data field required for reporting (e.g., 'Notional Amount', 'Transaction Date', 'Price', 'Quantity', etc.).\n\n"
    
    "  8. Compliance Detail:\n"
    "       - Additional guidance, validation rules, exceptions, technical instructions, and any other relevant notes.\n\n"
    
    "Establish the following relationships using clear, domain-specific verbs:\n"
    "  - 'issues': Regulatory Authority issues Regulatory Document.\n"
    "  - 'updates': A newer Regulatory Document updates or is a version of a previous one.\n"
    "  - 'contains': Regulatory Document contains Regulatory Mandate/Directive.\n"
    "  - 'requires': Regulatory Mandate requires Reporting Obligation, Field Specifications, or Compliance Detail.\n"
    "  - 'specifies': Regulatory Mandate or Document specifies Field Specifications & Data Elements.\n"
    "  - 'defines': Regulatory Document defines the structure or format of data elements.\n"
    "  - 'addresses': Regulatory Document addresses Compliance Details such as validation or life cycle rules.\n"
    "  - 'applies to': Regulatory Mandate applies to specific Reporting Entities or Derivative Products.\n"
    "  - 'reports on': Reporting Obligation reports on Field Specifications.\n"
    "  - 'references': Regulatory Document may reference other documents or standards.\n"
    "  - 'modifies': A newer Regulatory Mandate modifies or supersedes an earlier mandate (if applicable).\n\n"
    
    "For example, if a document states: \n"
    "  'The CFTC mandates that firms report all OTC derivatives transactions, including detailed data fields such as "
    "Notional Amount, Transaction Date, Price, and Quantity, as outlined in CFTC Guidance V2.0,' \n"
    "then you should:\n"
    "  - Create a node for 'CFTC' (Regulatory Authority).\n"
    "  - Create a node for 'CFTC Guidance V2.0' (Regulatory Document with version and date).\n"
    "  - Create a node for 'OTC Derivatives Reporting Mandate' (Regulatory Mandate/Directive).\n"
    "  - Create individual nodes for each field: 'Notional Amount', 'Transaction Date', 'Price', 'Quantity' (Field Specifications).\n"
    "  - Create a node for 'Firms' (Reporting Entity).\n"
    "  - Link them with edges such as:\n"
    "         • 'CFTC issues CFTC Guidance V2.0'\n"
    "         • 'CFTC Guidance V2.0 contains OTC Derivatives Reporting Mandate'\n"
    "         • 'OTC Derivatives Reporting Mandate requires reporting by Firms'\n"
    "         • 'OTC Derivatives Reporting Mandate specifies Notional Amount', etc.\n\n"
    
    "Return your output as a structured graph that captures every node and relationship for detailed cross-regime analysis."
)



additional_instructions = (
    "For every extracted node, add the following metadata properties:\n"
    "  - 'source_doc': the title of the document from which the information was extracted.\n"
    "  - 'doc_version': the version or publication date of the document.\n"
    "  - 'extraction_date': the current date when the extraction is performed.\n"
    "  - 'regulatory_regime': a property indicating the specific regulator/mandate (e.g., 'CFTC', 'ESMA', 'MiFID', etc.) "
    "or 'Global' if the document applies universally.\n"
    "  - 'page_numbers': for Document nodes, include the page number(s) where the extracted information appears.\n\n"
    "For nodes representing individual field specifications (e.g., 'Notional Amount', 'Transaction Date', etc.), add an extra label 'DataField'.\n\n"
    "If a document is applicable to multiple regulators, include a comma-separated list in the 'regulatory_regime' property.\n\n"
    "Ensure these metadata properties are added to every node so that later queries (e.g., comparing rules on the 'Notional Amount' field across all mandates) "
    "can accurately filter and compare nodes by source, version, regulatory regime, and even the specific pages of the document."
)
